<!DOCTYPE html>
<html lang="en">
  <head>

    <title>My Home Control</title>

    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">


    <link rel="import" href="proto-element.html">
    <link rel="import" href="sample-content.html">
    <link rel="import" href="data-value.html">

    <base href="https://polygit2.appspot.com/components/">
    <script src="webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="font-roboto/roboto.html">
    <link rel="import" href="iron-icons/iron-icons.html">
    <link rel="import" href="paper-item/paper-icon-item.html">
    <link rel="import" href="paper-button/paper-button.html">
    <link rel="import" href="paper-icon-button/paper-icon-button.html">
    <link rel="import" href="paper-radio-button/paper-radio-button.html">
    <link rel="import" href="paper-radio-group/paper-radio-group.html">
    <link rel="import" href="paper-card/paper-card.html">
    <link rel="import" href="paper-slider/paper-slider.html">

    <link rel="import" href="app-layout/app-drawer-layout/app-drawer-layout.html">
    <link rel="import" href="app-layout/app-drawer/app-drawer.html">

    <link rel="import" href="app-layout/app-scroll-effects/effects/waterfall.html">

    <link rel="import" href="app-layout/app-header/app-header.html">
    <link rel="import" href="app-layout/app-header-layout/app-header-layout.html">
    <link rel="import" href="app-layout/app-toolbar/app-toolbar.html">




    <style is="custom-style">
       body {
         margin: 0;
         font-family: 'Roboto', 'Noto', sans-serif;
         background-color: #eee;
       }
       app-header {
         background-color: #4285f4;
         color: #fff;
       }
       app-header paper-icon-button {
         --paper-icon-button-ink-color: #fff;
       }
       app-drawer-layout {
         --app-drawer-layout-content-transition: margin 0.2s;
       }
       app-drawer {
         --app-drawer-content-container: {
           background-color: #eee;
         }
       }
       .drawer-content {
         margin-top: 80px;
         height: calc(100% - 80px);
         overflow: auto;
       }

       .caption {
         padding-left: 12px;
         color: #a0a0a0;
       }

     </style>

</head>
<body>
  <body unresolved>

      <app-header-layout>

        <app-header fixed effects="waterfall">
          <app-toolbar>
            <paper-icon-button id="toggle" icon="menu"></paper-icon-button>
            <div main-title> Home control </div>
          </app-toolbar>
        </app-header>

        <app-drawer-layout id="drawerLayout">

          <app-drawer>
            <div class="drawer-content">
                <label id="label1">Boiler pump:</label>
                <paper-radio-group name="boiler_pump" selected="auto">
                    <paper-radio-button name="auto">Auto</paper-radio-button>
                    <paper-radio-button name="on">On</paper-radio-button>
                    <paper-radio-button name="off">Off</paper-radio-button>
                </paper-radio-group>

                <label id="label2">Boiler:</label>
                <paper-radio-group name="boiler" selected="auto">
                    <paper-radio-button name="auto">Auto</paper-radio-button>
                    <paper-radio-button name="on">On</paper-radio-button>
                    <paper-radio-button name="off">Off</paper-radio-button>
                </paper-radio-group>

                <div>Desired t: <span id="desired_temp_label" class="caption"></span></div><br>
                <paper-slider id="desired_temp" pin snaps min="10" max="22" max-markers="12" step="1"></paper-slider>

            </div>
          </app-drawer>

          <!-- paper-card heading="Measurements:">
            <div class="card-content">
              <div id="Kitchen_temp"><label>Kitchen:</label> 20 C</div>
            </div>
            < div class="card-actions">
              <paper-button>Some action</paper-button>
            </div>
          </paper-card -->

          <!--paper-card heading="Measurements:">
            <div class="card-content">
              <div id="Kitchen_temp"><label>Kitchen:</label> 20 C</div>
            </div>
            < div class="card-actions">
              <paper-button>Some action</paper-button>
            </div>
          </paper-card-->

          <data-value id="info-panel" kitchen_temp="5C" ></data-value>

        </app-drawer-layout>

      </app-header-layout>

      <script>
        var drawerLayout = document.getElementById('drawerLayout');
        document.getElementById('toggle').addEventListener('tap', function() {
          if (drawerLayout.forceNarrow || !drawerLayout.narrow) {
            drawerLayout.forceNarrow = !drawerLayout.forceNarrow;
          } else {
            drawerLayout.drawer.toggle();
          }
        });

        document.addEventListener('WebComponentsReady', function() {
          var desired_temp = document.querySelector('#desired_temp');
          desired_temp.addEventListener('value-change', function() {
            document.querySelector('#desired_temp_label').textContent = desired_temp.value;
          });

        });

        var info = document.getElementById('info-panel');
        info.set("kitchen_temp", "7 K");

      </script>
</body>
</html>
