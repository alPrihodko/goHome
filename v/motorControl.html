<!DOCTYPE html>
<html>
    <head>
	<meta charset="UTF-8" />
	<title>Sample of websocket with golang in MotorControl</title>
	<script src="js/jquery-2.1.4.min.js"></script>

  <script src="js/react/react.min.js"></script>
  <script src="js/react/react-dom.min.js"></script>
  <script src="js/react/browser.min.js"></script>

	<script>
      $(function() {
        var ws = new WebSocket("ws://localhost:1234/echo");
        ws.onmessage = function(e) {
          console.log("受信メッセージ:" + event.data);
        };

        ws.onopen = function(e) {
            console.log("socket conn established");
        };

        ws.onclose = function(e) {
            console.log("socket conn closed");
        };

        var $ul = $('#msg-list');
        $('#sendBtn').click(function(){
          var data = $('#name').val();
          ws.send(data);
          console.log("送信メッセージ:" + data);
          $('<li>').text(data).appendTo($ul);
        });
      });
	</script>
    </head>
    <body>
      <div id="root">Привет, я #root</div>
	    <input id="name" type="text" />
	    <input type="button" id="sendBtn" value="send"></input>
      <ul id="msg-list"></ul>

      <script type="text/babel" src="js/app.js"></script>
    </body>
</html>
